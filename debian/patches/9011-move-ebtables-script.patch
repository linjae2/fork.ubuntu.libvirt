Author: Jamie Strandboge <jamie@canonical.com>
Description: move ebiptables script from /tmp to /var/lib/libvirt
Forwarded: yes

Index: libvirt-0.9.1/src/nwfilter/nwfilter_ebiptables_driver.c
===================================================================
diff -Naurp libvirt-0.9.6.orig//src/nwfilter/nwfilter_ebiptables_driver.c libvirt-0.9.6//src/nwfilter/nwfilter_ebiptables_driver.c
--- libvirt-0.9.6.orig//src/nwfilter/nwfilter_ebiptables_driver.c	2011-07-22 00:10:04.000000000 -0400
+++ libvirt-0.9.6//src/nwfilter/nwfilter_ebiptables_driver.c	2011-10-09 21:18:15.347799543 -0400
@@ -40,7 +40,7 @@
 #include "nwfilter_ebiptables_driver.h"
 #include "virfile.h"
 #include "command.h"
-
+#include "configmake.h"
 
 #define VIR_FROM_THIS VIR_FROM_NWFILTER
 
@@ -2489,7 +2489,7 @@ ebiptablesDisplayRuleInstance(virConnect
  */
 static char *
 ebiptablesWriteToTempFile(const char *string) {
-    char filename[] = "/tmp/virtdXXXXXX";
+    char filename[] = LOCALSTATEDIR "/lib/libvirt/virtdXXXXXX";
     int len;
     char *filnam;
     virBuffer buf = VIR_BUFFER_INITIALIZER;
