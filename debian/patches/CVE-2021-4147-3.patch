Backport of:

From e4f7589a3ec285489618ca04c8c0230cc31f3d99 Mon Sep 17 00:00:00 2001
From: Jim Fehlig <jfehlig@suse.com>
Date: Wed, 24 Nov 2021 11:16:38 -0700
Subject: [PATCH] libxl: Modify name of shutdown thread
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

The current thread name 'ev-<domid>' is a bit terse. Change the name
to 'shutdown-event-<domid>', allowing it to be distinguished between
thread handling other event types.

Signed-off-by: Jim Fehlig <jfehlig@suse.com>
Reviewed-by: Daniel P. Berrangé <berrange@redhat.com>
Reviewed-by: Ján Tomko <jtomko@redhat.com>
---
 src/libxl/libxl_domain.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/src/libxl/libxl_domain.c
+++ b/src/libxl/libxl_domain.c
@@ -616,7 +616,7 @@ libxlDomainEventHandler(void *data, VIR_
         shutdown_info->driver = driver;
         shutdown_info->vm = vm;
         shutdown_info->event = (libxl_event *)event;
-        if (virAsprintf(&name, "ev-%d", event->domid) < 0)
+        if (virAsprintf(&name, "shutdown-event-%d", event->domid) < 0)
             goto cleanup;
         /*
          * Cleanup will be handled by the shutdown thread.
