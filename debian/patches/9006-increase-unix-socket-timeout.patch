#
# Description: increase timeout for waiting on a Unix socket to avoid
#              'monitor socket did not show up.: No such file or directory'
#              errors
#
diff -Nur libvirt-0.7.5/src/qemu/qemu_monitor.c libvirt-0.7.5.new/src/qemu/qemu_monitor.c
--- libvirt-0.7.5/src/qemu/qemu_monitor.c	2009-12-22 03:37:57.000000000 -0600
+++ libvirt-0.7.5.new/src/qemu/qemu_monitor.c	2010-01-22 14:52:38.249530490 -0600
@@ -228,7 +228,7 @@
 {
     struct sockaddr_un addr;
     int monfd;
-    int timeout = 3; /* In seconds */
+    int timeout = 30; /* In seconds */
     int ret, i = 0;
 
     if ((monfd = socket(AF_UNIX, SOCK_STREAM, 0)) < 0) {
